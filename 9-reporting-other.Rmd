---
title: "9 - Language specific reporting"
output: html_notebook
---

```{r setup, echo=F, results='hide'}
library(ggplot2)
source("config.R")
source("helpers.R")
```

> This R notebook can be executed from within R, you can update the database connection properties and the dataset settings in the `config.R` file, or run the commands specified here interactively if you want to experiment. **Note that this notebook is only valid when javascript pipeline datasets are used.**

## Fig 6 - JavaScript files over time, with and without NPM files.

```{r}
js_aggregate = read.table(paste.path(DATASET_PATH,"aggregated_files.csv"), header = F, col.names = c("time", 1:32), colClasses = rep("integer", 33))
```

```{r}
filesOverTime(DATASET_NAME, js_aggregate, paste("time_",DATASET_NAME,"_files_bw.pdf", sep = ""))
nonNpmFilesOverTime(DATASET_NAME, js_aggregate, paste("time_",DATASET_NAME,"_files_nonpm_bw.pdf", sep = ""))
```



## Fig 7 -  Percentage of clones over time

```{r}
nonUniqueFilesOverTime(DATASET_NAME, js_aggregate, paste("time_", DATASET_NAME, "_dup_bw.pdf", sep = ""), bounds = c(0, 100))
```



## Fig 8 - % of NPM files in projects and directly imported NPM packages

```{r}
npmFilesInProjects(DATASET_NAME)
npmDirectImports(DATASET_NAME)
```

## Fig 9 - Popularity of NPM modules.

```{r}
npmPopularity(DATASET_NAME)
```

# NPM and non-NPM Versions of Common Graphs

## Figuree 3

```{r}
js_npm_cloneGroupSize(DATASET_NAME)
```


## Files per project 

```{r}
js_npm_filesPerProject(DATASET_NAME)
```

## SLOC per file

```{r}
js_npm_slocPerFile(DATASET_NAME)
```

## Stars per Project

```{r}
js_npm_starsPerProject(DATASET_NAME)
```


## Commits per project

```{r}
js_npm_commitsPerProject(DATASET_NAME)
```
